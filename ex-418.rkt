#lang htdp/isl+

;;; Design `my-expt` without using `expt`. The function raises the first given number to
;;; the power of the second one, a natural number. Using this function, conduct the
;;; following experiment. Add

(define inex (+ 1 #i1e12))
(define exac (+ 1 1e-12))

;;; to the definitions area. What is `(my-expt inex 30)`? And how about
;;; `(my-expt exac 30)`. Which answer is more useful?

; my-expt: Number N -> Number
; Raises `base` to `power`
(check-expect (my-expt 2 3) 8)
(check-expect (my-expt 4 2) 16)
(define (my-expt base power)
  (cond [(zero? power) 1]
        [else (* base (my-expt base (sub1 power)))]))

(my-expt inex 30) ; => +inf.0
(my-expt exac 30)
; => 1000000000030000000000435000000004060000000027405000000142506000000593775000002035800000005852925000014307150000030045015000054627300000086493225000119759850000145422675000155117520000145422675000119759850000086493225000054627300000030045015000014307150000005852925000002035800000000593775000000142506000000027405000000004060000000000435000000000030000000000001/1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

;;; The exact answer is so large that one has to think whether it's actually useful,
;;; but it _is_ exact; handwaving this as +inf.0 will surely trickle down into
;;; other operations, rendering them moot.
